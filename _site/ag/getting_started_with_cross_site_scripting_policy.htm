<!DOCTYPE html>
<html lang="en">
	    <head>
            <meta http-equiv="Content-type" content="text/html; charset=utf-8">
            <title>Getting Started with Cross Site Scripting Detection Policy in Policy Manager 7.x</title>
            <link rel="stylesheet" href="/docs-test/style/reset.css" type="text/css">
            <link rel="stylesheet" href="/docs-test/style/base.css" type="text/css">
            <link rel="stylesheet" href="/docs-test/style/style.css" type="text/css">
            <link rel="stylesheet" href="/docs-test/style/document.css" type="text/css">
            <!-- <link rel="stylesheet" href="/docs-test/style/site.min.css" type="text/css" media="screen" /> -->
            <!--[if lt IE 10]><link rel="stylesheet" href="style/ie.css" type="text/css"><![endif]-->
            <!--[if lt IE 9]><link rel="stylesheet" href="style/ie8.css" type="text/css"><![endif]-->
<!--
            <script src="/docs-test/js/jquery.min.js"></script>
            <script src="/docs-test/js/lunr.min.js" type="text/javascript" charset="utf-8"></script>
            <script src="/docs-test/js/mustache.js" type="text/javascript" charset="utf-8"></script>
            <script src="/docs-test/js/handlebars-v1.1.2.js" type="text/javascript" charset="utf-8"></script>
            <script src="/docs-test/js/date-format.js" type="text/javascript" charset="utf-8"></script>
            <script src="/docs-test/js/URI.min.js" type="text/javascript" charset="utf-8"></script>
            <script src="/docs-test/js/jquery.lunr.search.js" type="text/javascript" charset="utf-8"></script>
            <script src="/docs-test/js/jquery-ui.min.js"></script>
-->
            <script src="/docs-test/js/soadocs.min.js"></script>
    </head>
	<body>

		<div class="soa-ui-dc-container-top soa-ui-dc-clearthis">
						<h2 class="soa-ui-dc-logo-container">
				<a href="/docs-test/index.html" class="soa-ui-dc-logo soa-ui-dc-icon-imgtxt">SOA Software &trade;, Powering the API Economy</a><!-- logo link, replace href -->
			</h2>

						<div class="soa-ui-dc-topsearch-container">
				<form class="soa-ui-dc-topsearch">
					<label for="soa-control-dc-search" class="soa-ui-dc-label soa-ui-dc-label-hidden">Enter Search Text</label>
					<input type="text" id="soa-control-dc-search-query" name="q" placeholder="Search" autocomplete="off" class="soa-ui-dc-topsearch-input">
					<button class="soa-ui-dc-topsearch-button soa-ui-dc-icon-imgtxt soa-ui-dc-icon-magnifying-glass" type="button">Search</button>
				</form>
				<div id="soa-control-dc-search-results" class="soa-ui-dc-inline-search-div soa-ui-dc-icon" style="display: none;">
					<ul class="soa-ui-dc-buttons">
						<li>
							<button id="soa-control-dc-close-results" type="button" class="soa-ui-dc-icon-imgtxt soa-ui-dc-button soa-ui-dc-button-borderless soa-ui-dc-button-close">Close</button>
						</li>
					</ul>
					<h3 class="soa-ui-dc-content-header">Search Results</h3>
					<div id="soa-control-dc-search-result-entries">
					</div>
				</div>
			</div>

		    
		    <script id="soa-control-dc-search-results-template" type="text/x-handlebars-template">
				{{#entries}}
					<div class="soa-ui-dc-content-catalog">
						<ul class="soa-ui-dc-content-catalog-items">
							<li class="soa-ui-dc-content-catalog-item soa-ui-dc-2col-with-avatar soa-ui-dc-clearthis">
								<div class="soa-ui-dc-avatar-box">
									<h4 class="soa-ui-dc-icon-imgtxt soa-ui-dc-document-type soa-ui-dc-icon-{{ type }}">
									Document
									</h4>
								</div>
								<div class="soa-ui-dc-details-box">
									<div class="soa-ui-dc-section">
										<h3 class="soa-ui-dc-section-header">
											<a href="/docs-test{{ url }}"{{#if_eq type "pdf"}} target="_blank"{{/if_eq}}>{{ title }}</a>
										</h3>
										<p class="soa-ui-dc-section-paragraph">
										{{ description }}
										</p>
									</div>
								</div>
							</li>
						</ul>
					</div>
				{{/entries}}
		    </script>
		    
						<div class="soa-ui-dc-topnav-container">
				<!-- top nav starts here -->
				<ul class="soa-ui-dc-topnav soa-ui-dc-clearthis">
					<li class="soa-ui-dc-topnav-item ">
						<a href="/docs-test/cm/index.html" class="soa-ui-dc-topnav-item-link soa-ui-dc-icon soa-ui-dc-topnav-item-link-communitymanager"><span class="soa-ui-dc-topnav-item-link-firstword">COMMUNITY</span> MANAGER</a><!-- replace href -->
					</li>
					<li class="soa-ui-dc-topnav-item soa-ui-dc-topnav-item-active">
						<a href="/docs-test/ag/index.html" class="soa-ui-dc-topnav-item-link soa-ui-dc-icon soa-ui-dc-topnav-item-link-apigateway"><span class="soa-ui-dc-topnav-item-link-firstword">API</span> GATEWAY</a><!-- replace href -->
					</li>
					<li class="soa-ui-dc-topnav-item ">
						<a href="/docs-test/lm/index.html" class="soa-ui-dc-topnav-item-link soa-ui-dc-icon soa-ui-dc-topnav-item-link-lifecyclemanager"><span class="soa-ui-dc-topnav-item-link-firstword">LIFECYCLE</span> MANAGER</a><!-- replace href -->
					</li>
				</ul>
				<!-- top nav ends here -->
			</div>
			<div class="soa-ui-dc-subnav-container">
				<!-- sub nav starts here -->
				<ul class="soa-ui-dc-subnav soa-ui-dc-clearthis">
					<li class="soa-ui-dc-subnav-item">
						<a href="/docs-test/ag/getting-started.html" class="soa-ui-dc-subnav-item-link soa-ui-dc-icon soa-ui-dc-icon-action-dark">Getting Started</a>
					</li>
					<li class="soa-ui-dc-subnav-item">
						<a href="/docs-test/ag/reference.html" class="soa-ui-dc-subnav-item-link soa-ui-dc-icon soa-ui-dc-icon-action-dark">Reference</a><!-- replace href -->
					</li>
					<li class="soa-ui-dc-subnav-item">
						<a href="/docs-test/ag/learning.html" class="soa-ui-dc-subnav-item-link soa-ui-dc-icon soa-ui-dc-icon-action-dark soa-ui-dc-subnav-item-link-active">Learning</a><!-- replace href -->
					</li>
				</ul>
				<!-- sub nav ends here -->
			</div>
		</div>
		<div class="soa-ui-dc-container-main soa-ui-dc-clearthis">
			<!-- left nav -->
			<div class="soa-ui-dc-container-main-left">
				<h3 class="soa-ui-dc-container-main-left-header">
					
					<a href="/docs-test/ag/learning.html" class="soa-ui-dc-container-main-left-header-link">Learning</a>
								
				</h3>
				<ul class="soa-ui-dc-container-main-left-nav soa-ui-dc-container-main-left-nav-inner">	
					<li class="soa-ui-dc-container-main-left-nav-item">
						<a class="soa-ui-dc-container-main-left-nav-item-link" href="/docs-test/ag/script_management.htm">
						  Managing Scripts
						</a>
					</li>	
					<li class="soa-ui-dc-container-main-left-nav-item">
						<a class="soa-ui-dc-container-main-left-nav-item-selected soa-ui-dc-container-main-left-nav-item-link" href="/docs-test/ag/getting_started_with_cross_site_scripting_policy.htm">
						  Using Cross Site Scripting Policy
						</a>
					</li>	
					<li class="soa-ui-dc-container-main-left-nav-item">
						<a class="soa-ui-dc-container-main-left-nav-item-link" href="/docs-test/ag/getting_started_with_metrics_policy.htm">
						  Using Metrics Policy
						</a>
					</li>	
					<li class="soa-ui-dc-container-main-left-nav-item">
						<a class="soa-ui-dc-container-main-left-nav-item-link" href="/docs-test/ag/getting_started_with_processes.htm">
						  Getting Started with Processes
						</a>
					</li>	
					<li class="soa-ui-dc-container-main-left-nav-item">
						<a class="soa-ui-dc-container-main-left-nav-item-link" href="/docs-test/ag/policy_management.htm">
						  Managing Policies
						</a>
					</li>	
					<li class="soa-ui-dc-container-main-left-nav-item">
						<a class="soa-ui-dc-container-main-left-nav-item-link" href="/docs-test/ag/process_management.htm">
						  Managing Processes
						</a>
					</li>
				</ul>
			</div>
<!-- end left nav -->
			<div class="soa-ui-dc-container-main-content"><!-- main content starts here -->
				<div class="documentation supportContent">
					<a name="top"></a>
<div class="documentation supportContent">
  <h2 name="top">Getting Started with the Cross-Site Scripting Detection Policy</h2>
  <p>Learn how configure a tag white list to protect your web service  from being exploited by cross site scripting. </p>

<a href="policy_management.htm" class="button secondary">Managing Policies</a>
  <p></p>
  <div class = "divider1"></div>
   <h3 style="color: gray;">Table of Contents</h3>

   <ol class="table_of_contents">

 <li><a href="#introduction">Introduction</a></li>


 <li><a href="#black_list_default_policy">Black List Default Policy</a></li>

  <li><a href="#configuration">Configuration</a></li>


  </ol>
  <div class = "divider1"></div><p></p>






<a name="introduction">
<h3>Introduction</h3></a>

<p>The Cross Site Scripting Detection Policy is an Operational policy that allows you to block potentially malicous HTML tags in the request message body using a <em>black</em> and <em>white</em> tag list approach. </p>
<ul class="usingOrderedList">
  <li>The black list includes a list of HTML tags that will be blocked if they are found in the request message body. </li>
  <li>The  white list (which you define in the policy definition) includes a set of tags and attributes that are allowed in the request message body. If a white list tag is found, Network Director passes the request message to the downstream service. </li>
</ul>

 <p>Say for example your web service includes an anchor &lt;a&gt; tag. When you attach a default Cross Site Scripting Detection Policy to a REST service and send a request message to the Network Director container that is hosting the service, you will receive an &quot;HTTP 403 Forbidden&quot; error. This is because the &lt;a&gt; tag is not defined in the policie's &quot;white list.&quot;</p>


 <p><a href="#top">Back to top</a></p>


<a name="black_list_default_policy">
<h3>Black List (Default Policy)</h3></a>



<p>The default policy state includes a black list with the following tags:</p>
<p><img src="cross_site_blacklist1.jpg" width="388" height="346"></p>
<p><img src="cross_site_blacklist2.jpg" width="373" height="356"></p>



 <p><a href="#top">Back to top</a></p>



<a name="configuration">
<h3>Configuration</h3></a>



<p>Let's take a quick walkthrough of the Cross Site Scripting Detection  Policy configuration process to get your started.</p>
<h5>Step 1: Add Policy / Use System Policy</h5>
<ul class="usingOrderedList">
  <li>You can create a Cross Site Scripting Detection policy instance using <strong>Add Policy</strong> in the <em>Policies &gt; Operational Policies</em> section.</li>
  <li>You can also take advantage of the pre-defined Cross Site Scripting Detection Policy called <strong>WhiteListedCrossSiteScripting</strong>. This is an  out-of-box System Policy that is preconfigured with the default white list. You can customize the white list configuration to suit your needs and then attach it directly to a service or operation. If you use the default configuration all tags in the white list   all tags will be accepted when Network Director  passes the request message to the downstream service.</li>
</ul>
<h5>Step 2: Modify Policy</h5>
<p>When you <strong>Modify</strong> the Cross Site Scripting Detection policy on the <em>Policy Details</em> page the initial policy will look like this:</p>
<p><img src="modify_cross_site_scripting_policy.jpg" width="430" height="489"></p>
<p>If you use the default policy (without defining a white list) all tags in the black list default policy (listed above) will be forbidden when Network Director  passes the request message to the downstream service and an HTTP 404 Forbidden error will be raised.</p>
<h5>Step 3: Configure White List / Custom Tags</h5>
<p>The next step is to define your tag white list. These represent tags that comprise the HTML in your request message body and that you have designated as ones that could be  potentially attacked. White list tags are allowed when Network Director passes the request message to the downstream service.  The following options are available:</p>
<h5></h5>
<ul class="usingOrderedList">
  <li>Use  <strong>Add Default HTML Tags</strong>  to add a default set of tags (i.e.,  adds the black list to your policy) and customize using the <strong>Remove Selected Row</strong> option.</li>
  <li>Use  <strong>Add Tag</strong>  to add a custom tag and attributes (if applicable).</li>
</ul>
<h5>Step 4: Attach Policy</h5>
<p>After you have saved your policy you can  attach it to a web service  or you can attach the policy at the Organization level and the policy will be active for all services defined within the orgnization. </p>
<p><img src="attach policy.jpg" width="485" height="221"></p>


<p><a href="#top">Back to top</a></p>

<div class = "divider1"></div>

				</div>
				<!-- main content ends here -->
			</div>
						<div class="soa-ui-dc-container-footer">
				<ul class="soa-ui-dc-footer">
					<li class="soa-ui-dc-footer-item"><a href="https://support.soa.com/support/" class="soa-ui-dc-footer-item-link">Support</a></li>
					<li class="soa-ui-dc-footer-item"><a href="http://www.soa.com/company/contact_us/" class="soa-ui-dc-footer-item-link">Contact Us</a></li>
					<li class="soa-ui-dc-footer-item"><a href="http://www.soa.com/company/soa_software_privacy_policy/" class="soa-ui-dc-footer-item-link">Privacy Policy</a></li>
					<li class="soa-ui-dc-footer-item">&copy;2013, SOA Software, Inc. All Rights Reserved.</li>
				</ul>
			</div>
			<div id="soa-control-dc-overlay" class="soa-ui-dc-overlay"></div>
			<script type="text/javascript">
				$(function() {
					$(".soa-control-dc-tabs").tabs();
					$('#soa-control-dc-search-query').lunrSearch({
						indexUrl: '/docs-test/search.json',
						results:  '#soa-control-dc-search-results',
						entries:  '#soa-control-dc-search-result-entries',
						template: '#soa-control-dc-search-results-template'
					});
					$("#soa-control-dc-close-results").click(function(e){
						e.preventDefault();
						$('#soa-control-dc-search-results').hide();
						$('#soa-control-dc-overlay').removeClass('soa-ui-dc-overlay-visible');
					});
				});
			</script>
		</div>
	</body>
</html>
